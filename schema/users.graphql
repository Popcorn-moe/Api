type User {
	id: ID!
	login: String!
	email: String!
	group: UserGroup!
	newsletter: Boolean!
	account_registered: Boolean!
	playlists: [Playlist!]!
	avatar: Url
	ratings: [AnimeRating!]!
	rating_for(id: ID!): AnimeRating
	friends: [User!]!
	blocked: [User!]!
	notifications: [Notification!]!
}

enum UserGroup {
	ADMIN,
	MODERATOR,
	VIEWER
}

type AnimeRating {
	anime: Anime!
	rating: Float!
}

input UserInput {
	id: ID!
	login: String
	email: String
	group: UserGroup
	newsletter: Boolean
	account_registered: Boolean
	avatar: Url
}

extend type Mutation {
	setAvatar(file: Upload!): Result!
	updateUsers(users: [UserInput!]!): [ID!]!
	sendFriendsRequests(to: [ID!]!): [ID!]!
	addFriend(user: ID!): Result!
	delFriend(user: ID!): Boolean
	blockUser(user: ID!): Boolean
	unlockUser(user: ID!): Boolean
}

extend type Query {
	me: User
	users: [User!]!
	searchUser(name: String!, limit: Int = 10): [User!]!
	friendRequests: [User!]!
	pendingFriendRequests: [User!]!
}


